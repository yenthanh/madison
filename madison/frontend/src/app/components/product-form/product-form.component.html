<div class="container">
  <!-- Loading -->
  <div *ngIf="loading" class="loading">
    <p>Loading product information...</p>
  </div>

  <!-- Error -->
  <div *ngIf="error && !loading" class="error">
    <p>{{ error }}</p>
    <button (click)="goBack()" class="btn btn-primary">Back</button>
  </div>

  <!-- Success -->
  <div *ngIf="success" class="success">
    <p>{{ success }}</p>
    <p>Redirecting...</p>
  </div>

  <!-- Form -->
  <div *ngIf="product && !loading && !success" class="form-container">
    <div class="header">
      <button (click)="goBack()" class="btn btn-secondary">‚Üê Back</button>
      <h1>Update Product Description</h1>
    </div>

    <div class="product-info">
      <h2>{{ product.name }}</h2>
      <p class="current-description">
        <strong>Current Description:</strong> {{ product.description }}
      </p>
    </div>

    <form (ngSubmit)="onSubmit()" class="update-form">
      <div class="form-group">
        <label for="description">New Description:</label>
        <textarea
          id="description"
          name="description"
          [(ngModel)]="newDescription"
          rows="4"
          placeholder="Enter new description for the product..."
          required
          [disabled]="submitting"
        ></textarea>
      </div>

      <div class="form-actions">
        <button 
          type="button" 
          (click)="cancel()" 
          class="btn btn-secondary"
          [disabled]="submitting"
        >
          Cancel
        </button>
        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="submitting || !newDescription.trim()"
        >
          <span *ngIf="submitting">Updating...</span>
          <span *ngIf="!submitting">Update</span>
        </button>
      </div>
    </form>
  </div>
</div>
